\documentclass[12pt]{scrartcl}

\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage[backend=biber]{biblatex}
\addbibresource{/home/frank/docs/reference/literature.bib}
\AtEveryBibitem{\clearfield{url}}

\usepackage{zarithm}
\usepackage{zed-csp} % must be included after zarithm
\usepackage[mark]{gitinfo2}
\usepackage[outerbars]{changebar}
\newcommand{\remark}[1]{ \vspace{1em}\textbf{\underline{#1}}\vspace{1em} }
%\newcommand{\comment}[1]{ \textbf{\underline{#1}} }

\begin{document}

%opening
\title{Arithmetic Definitions in  Z to be used with Fuzz}

\author{Frank Dordowsky}

% make the title area
\maketitle

\begin{abstract}
The intention of this \LaTeX file is to extend the mathematical
tool-kit of the Z reference manual to include rational and real
numbers. 
\end{abstract}

%\tableofcontents
%\newpage

\section{Introduction}
\label{sec:intro}
Rational and real numbers are often used in the specification of
embedded systems to represent environmental variables such as
distances, termperatures, voltage levels etc. The mathematical toolkit
of the Z reference manual (ZRM) does not contain rational and real
numbers, whereas the number toolkit of the ISO Z standard
does. However, moving to standard (ISO) Z is not always the favourite
option, especially if a large amount of Z Specification in ZRM style
is available. Moreover, most Z textbooks have been written prior to
ISO Z. For those who wish to stick with ZRM, this set of two files
(\texttt{zarithm.sty} and \texttt{zarithm.tex}, this file) are
intended to provide a solution.

The file \texttt{zarithm.sty} is only used for typesetting, whereas
\texttt{zarithm.tex} includes the Z definitions of the types for
rational and real numbers, their basic operations and numerical
comparisons The Z definitions are sufficient for type setting, not for
automated proof. If the user intends to use autoated proof, there is
probably no way to transit to standard Z.

The ZRM comes along with the tool \texttt{fuzz}, a typechecker. The
approach described here makes use of the fact that fuzz accepts more
than one \LaTeX file and remembers the Z definitions or the
``earlier'' files.

\section{Arithmos $\arithmos$}
\label{sec:arithmos}

$\arithmos$, which can be pronounced “arithmos”, is the encompassing
set of numbers whose whole extent is deliberately left
unspecified. This definition has been adopted from
\cite{Valentine2012}.

\begin{zed}
  [\arithmos] 
\end{zed}

%%inop \aplus 3
%%inop \aminus 3
\begin{axdef}
  \_ \aplus \_ : \arithmos \cross \arithmos \fun \arithmos\\
  \_ \aminus \_ : \arithmos \cross \arithmos \fun \arithmos\\
  \aneg : \arithmos \fun \arithmos\\
  \azero : \arithmos\\
  \aone : \arithmos\\
  \aten : \arithmos\\
  \where
  \forall x : \arithmos @ x \aplus \azero = \azero \aplus x = x \\
  \forall x : \arithmos @ x \aplus (\aneg x) = \azero \\
  \forall x : \arithmos @ \aneg (\aneg x) = x \\
  \forall x,y: \arithmos @ x \aplus y = y \aplus x \\
  \forall x,y,z: \arithmos @ ( x \aplus y ) \aplus z = x \aplus (y
  \aplus z) \\
  \forall x,y : \arithmos @ x \aminus y = x \aplus (\aneg y)\\
\end{axdef}

\begin{zed}
  \arithmos_1 == \arithmos \setminus \{ \azero \}
\end{zed}

%%inop \amult 4
%%inop \adiv 4
%%postop \ainv
\begin{axdef}
  \_ \amult \_ : \arithmos \cross \arithmos \fun \arithmos\\
  \_ \adiv \_ : \arithmos \cross \arithmos_1 \fun \arithmos\\
  \_ \ainv : \arithmos_1 \fun \arithmos_1\\
  \where
  \forall x : \arithmos @ x \amult \aone = \aone \amult x = x \\
  \forall x : \arithmos_1 @ x \amult (x \ainv) = \aone \\
  \forall x : \arithmos_1 @ (x \ainv)\ainv = x \\
  \forall x,y: \arithmos @ x \amult y = y \amult x \\
  \forall x,y,z: \arithmos @ ( x \amult y ) \amult z = x \amult (y
  \amult z) \\
  \forall x: \arithmos; y : \arithmos_1 @ x \adiv y = x \amult (y
  \ainv)\\
  \forall x: \arithmos @ x \amult \azero = \azero \amult x =
  \azero\\
  \forall x, y, z: \arithmos @ x \amult ( y \aplus z ) = x \amult y
  \aplus x \amult z \\
\end{axdef}

\section{Real Numbers $\real$}
\label{sec:real-numbers}

\begin{axdef}
  \real : \power \arithmos\\
  \where
  \azero \in \real\\
  \aone \in \real\\
  \aten \in \real\\
  \ran ( (\real \cross \real) \dres (\_ \aplus \_) ) \subset \real\\
  \ran ( (\real \cross \real) \dres (\_ \amult \_) ) \subset \real\\
  \ran (\real \dres (\aneg ))  \subset \real\\
  \ran (\real \dres (\_ \ainv ))  \subset \real\\
\end{axdef}

%%inrel \alt
\begin{axdef}
  \_ \alt \_ : \real \rel \real\\
  \where
  \forall x : \real @ \lnot x \alt x\\
  \forall x, y: \real @ x \alt y \lor x = y \lor y \alt x\\
  \forall x, y, z: \real | x \alt y \land y \alt z @ x \alt z \\
  \azero \alt \aone\\
\end{axdef}

%%inrel \aleq
%%inrel \agt
%%inrel \ageq
\begin{zed}
  (\_ \aleq \_) == (\_ \alt \_ ) \cup \id \real \\
  (\_ \agt \_) == (\_ \alt \_ ) \inv \\
  (\_ \ageq \_) == (\_ \agt \_ ) \cup \id \real \\
\end{zed}

\begin{zed}
  \realplus == \{~r :\real | r \agt \azero~\}\\
  \realminus == \real \setminus ( \realplus \cup \{~\azero~\})
\end{zed}

\section{Rational Numbers $\rat$}
\label{sec:rational-numbers}

\begin{axdef}
  \rat : \power \real
  \where
  \azero \in \rat\\
  \aone \in \rat\\
  \aten \in \rat\\
  \ran ( (\rat \cross \rat) \dres (\_ \aplus \_) ) \subset \rat\\
  \ran ( (\rat \cross \rat) \dres (\_ \amult \_) ) \subset \rat\\
  \ran (\rat \dres (\aneg ))  \subset \rat\\
  \ran (\rat \dres (\_ \ainv ))  \subset \rat\\
\end{axdef}

\begin{zed}
  \ratplus == \{~q :\rat | q \agt \azero~\}\\
  \ratminus == \rat \setminus ( \ratplus \cup \{~\azero~\})
\end{zed}

\section{Integers and Rational Numbers}
\label{sec:integers-and-rationals}

\begin{axdef}
  numembd : \num \inj \rat \\
  \where
  numembd~0 = \azero \\
  numembd~1 = \aone \\
  \forall i, j : \num @ numembd (i+j) = numembd~i \aplus numembd~j \\
  \forall i, j : \num @ numembd (i*j) = numembd~i \amult numembd~j \\
  \forall z : \num @ numembd (succ~z) = (numembd~z) \aplus \aone \\
  \forall i, j : \num | i <j @ numembd~i \alt numembd~j \\
\end{axdef}



% 
% bibliography
\printbibliography{}

%\todos

\end{document}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
